<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="../css/styles.css" />
		<title>01 | Fetch API - Text</title>
	</head>

	<body>
		<div class="header"><h1>Fetch API - Text</h1></div>

		<button class="button" id="button1">Get Text</button>
		<button class="button" id="button2">Get Text</button>
		<div id="output"></div>

		<script>
			//-------------------------------------------------------------------------------------------------------
			// A fetch request within a basic function getText1() activated by a click event:
			let button1 = document.getElementById("button1");
			button1.addEventListener("click", getText1);
			let output = document.getElementById("output");

			function getText1() {
				fetch("sample.txt") // URL of the GET/fetch request is passed through the fetch method.
					.then(function (response) {
						// The response of the request is passed into a function.
						return response.text();
					})
					.then(function (data) {
						// The returned data of the response is passed into another function and logged.
						console.log(data);
					})
					.catch((err) => console.log("Error, something went wrong.")); // Errors are caught here and passed into a function to be logged approriately.
			}
			//-------------------------------------------------------------------------------------------------------
			// A fetch request within an arrow function getText2() activated by a click event:
			let button2 = document.getElementById("button2");
			button2.addEventListener("click", getText2);

			function getText2() {
				fetch("sample.txt") // URL of the GET/fetch request is passed through the fetch method.
					.then((response) => response.text()) // The response of the request returned within an arrow function.
					.then((data) => {
						// The returned data of the response is passed into another arrow function and logged.
						output.innerHTML = data;
					})
					.catch((err) => console.log("Error, something went wrong.")); // Errors are caught here and passed into another arrow function to be logged approriately.
			}

			//-------------------------------------------------------------------------------------------------------
		</script>
	</body>
</html>
