<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="../css/styles.css" />
		<title>02 | Promise.all</title>
	</head>

	<body>
		<div class="header"><h1>Promise.all</h1></div>
		<div id="output"></div>
		<script>
			//-------------------------------------------------------------------------------------------------------
			const posts = [
				{ title: "Post 01", body: "This is my first post." },
				{ title: "Post 02", body: "This is my second post." },
			];

			function getPosts() {
				setTimeout(() => {
					let output = "";
					posts.forEach((post) => {
						output += `<li>${post.title}</li>`;
					});
					document.getElementById("output").innerHTML = output;
				}, 1000); // Function will execute after 1 second (1000 milliseconds)
			}

			function createPost(post) {
				return new Promise((resolve, reject) => {
					setTimeout(() => {
						posts.push(post);

						const error = false;

						if (!error) {
							resolve();
						} else {
							reject("Something went very wrong!");
						}
					}, 2000);
				});
			}

			const promise1 = Promise.resolve("Hello World");
			const promise2 = 10;
			const promise3 = new Promise((resolve, reject) => {
				setTimeout(resolve, 2000, "Goodbye");
			});

			promiseArray = [promise1, promise2, promise3];

			// Promise.all takes in an array of promises:
			Promise.all(promiseArray).then((values) => {
				console.log(values);
			});
			//-------------------------------------------------------------------------------------------------------
		</script>
	</body>
</html>
